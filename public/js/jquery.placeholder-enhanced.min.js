// jQuery Placeholder Enhanced 1.3 | by Denis Ciccale @tdecs | under the MIT license
(function(a){var d="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea"),e;d||(e=a.fn.val,a.fn.val=function(){if(this.length)return!arguments.length&&("INPUT"===this[0].nodeName||"TEXTAREA"===this[0].nodeName)?this[0].value===this[0].placeholder?"":this[0].value:e.apply(this,arguments)});a.fn.placeholderEnhanced=function(){function e(d){var c={};a.each(d.attributes,function(b,a){if(a.specified&&a.name!=="placeholder"&&a.name!=="name")c[a.name]=a.value});return c}function h(a){a.css({position:"absolute",left:"-9999em"})}if(this.length){var c="placeholder";d||a("form").submit(function(){a(this).find("input[placeholder], textarea[placeholder]").each(function(){if(this.value===this.placeholder&&!this.disabled)this.value=""})});return this.each(function(){function j(){if(b.hasClass(c)){d||b.val("");b.removeClass(c)}}function k(){if(!b.val()||b.val()===f)if(d)b.addClass(c);else if(i){g.css({position:"",left:""});h(b)}else b.addClass(c).val(f)}if(a.data(this,"placeholderEnhanced")!==true){var b=a(this),f=b.attr("placeholder"),i=this.type==="password",g;if(!i||d)b.bind("focus.placeholder",j);else{g=a("<input>",a.extend(e(this),{type:"text",value:f,tabindex:-1})).addClass(c).bind("focus.placeholder",function(){b.trigger("focus.placeholder")}).insertBefore(b);b.bind("focus.placeholder",function(){b.css({position:"",left:""});h(g)})}b.bind("blur.placeholder",k).trigger("blur.placeholder");a.data(this,"placeholderEnhanced",true)}})}};a(function(){a("input[placeholder], textarea[placeholder]").placeholderEnhanced()})})(jQuery);